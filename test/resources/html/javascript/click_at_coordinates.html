<html>
  <head>
    <script type="text/javascript">
      function resizeImg (img, event)
      {
        var resize = 150; // resize amount in percentage
        var origH  = 200;  // original image height
        var origW  = 200; // original image width
        var mouseX = event.clientX;
        var mouseY = event.clientY;
        var newH   = origH * (resize / 100);
        var newW   = origW * (resize / 100);

        // Set the new width and height
        img.style.height = newH;
        img.style.width  = newW;

        var c = img.parentNode;

        // Work out the new center
        c.scrollLeft = (mouseX * (resize / 100)) - (newW / 2) / 2;
        c.scrollTop  = (mouseY * (resize / 100)) - (newH / 2) / 2;
        
        // Calculate mouse position from the center of the image
        var fromCenterX = mouseX - 108;
        var fromCenterY = mouseY - 108;

        // Change Initial output to coordinates that are clicked
        document.getElementById("outputX").innerHTML=mouseX //fromCenterX;
        document.getElementById("outputY").innerHTML=mouseY //fromCenterY;
        //position:relative;
      }
      function getClickCoords(currentElement, event)
      {
        var totalOffsetX = 0;
        var totalOffsetY = 0;
        var canvasX = 0;
        var canvasY = 0;
        
        do{
            totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;
            totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;
        }
        while(currentElement = currentElement.offsetParent)
        
        canvasX = event.pageX - totalOffsetX;
        canvasY = event.pageY - totalOffsetY;
        
        // Change Initial output to coordinates that are clicked
        document.getElementById("outputX").innerHTML=canvasX; //totalOffsetX; //mouseX //fromCenterX;
        document.getElementById("outputY").innerHTML=canvasY; //totalOffsetY; mouseY //fromCenterY;

        //return {x:canvasX, y:canvasY}
      }
    </script>
    <style type="text/css">
      #Container {
        position:relative;
        width:200px;
        height:200px;
        overflow:hidden;
      }
    </style>
  </head>
  <body>
    <div id="Container">
      <img id="Clickable" alt="Click on image"
	onclick="getClickCoords(this, event)" 
        src="click_at_coordinates.png" />
    </div>
    <h1>Clicking at coordinates</h1>
    <p id="info">Watch the output below</p>
    <p id="outputX">initial outputX</p>
    <p id="outputY">initial outputY</p>
  </body>
</html>
